# Created BY :SACHIN SINGH
# Date : 29/09/2020
# COMPANY : VSPL

#------------------MASTER QUERIES---------------------------------------
GETALLSUBJECT = SELECT SUBID , SUBNAME FROM TM_CSR_SUBJECT ORDER BY SUBNAME




GETALLSTATUS = SELECT STATID , STATUS  FROM TM_CSR_STATUS WHERE ACTIVE='1' ORDER BY STATUS
GETALLSTATUSLIST = SELECT STATID , STATUS , STATUSCODE , CREATEDBY , UPDATEDON , UPDATEDBY , ACTIVE,CREATEDON,STATUSCODE  FROM TM_CSR_STATUS ORDER BY STATUS
GETSTATUSBYID= SELECT STATID , STATUS , STATUSCODE , CREATEDBY , UPDATEDON , UPDATEDBY , ACTIVE   FROM TM_CSR_STATUS WHERE STATID=?
INSSTATUS =INSERT INTO TM_CSR_STATUS (STATID , STATUS , CREATEDON , STATUSCODE , CREATEDBY , ACTIVE) VALUES (?, ?, sysdate, ?, ?, ?)
UPDSTATUS =UPDATE TM_CSR_STATUS SET STATUS= ? where STATUSCODE= ?
DELVSTATUS = DELETE  FROM TM_CSR_STATUS where STATUSCODE= ?
RMVSTATUS = UPDATE TM_CSR_STATUS SET ACTIVE='0' where STATUSCODE= ?
ISEXIST = SELECT COUNT(*) AS ISEXIT FROM TM_CSR_STATUS where STATUSCODE= ?


GETALLPROGRAMNATURE = SELECT PRN_ID , PRN_NAME FROM TM_CSR_PROGRAM_NATURE ORDER BY PRN_NAME




GETALLAPPROVINGAUTH = SELECT AUTH_ID,AUTH_CODE,AUTH_NAME,CREATEDON,CREATEDBY FROM TM_CSR_APRVNG_AUTH WHERE ACTIVE=1 ORDER BY AUTH_ID DESC
GETAPPROVINGAUTHBYID = SELECT AUTH_ID,AUTH_CODE,AUTH_NAME,CREATEDON,CREATEDBY,ACTIVE FROM TM_CSR_APRVNG_AUTH WHERE ACTIVE=1 AND AUTH_ID=?  ORDER BY AUTH_ID DESC
ISEXISTAPPROVINGAUTH= SELCT COUNT(*) ISEXIST FROM TM_CSR_APRVNG_AUTH WHERE AUTH_NAME=?
DELAPPROVINGAUTHBYID = DELETE FROM TM_CSR_APRVNG_AUTH WHERE AUTH_ID = ?
INACTIVEAPPROVINGAUTHBYID= UPDATE TM_CSR_APRVNG_AUTH SET ACTIVE=0 WHERE AUTH_ID = ?


#------------------TRANSATION QUERIES---------------------------------------
GETALLCSRDTAIL = SELECT C.*,SB.SUBNAME,S.STATUS STATUS_NAME,P.PRN_NAME,A.AUTH_NAME,A.AUTH_CODE FROM TT_CSR_DTL C,TM_CSR_SUBJECT SB,TM_CSR_STATUS S,TM_CSR_PROGRAM_NATURE P,TM_CSR_APRVNG_AUTH A WHERE C.STATUS=S.STATID AND C.PROGRAM_NATURE = P.PRN_ID AND C.SUBJECT=SB.SUBID AND C.APPROVING_ATHORITY_PER_BDM = A.AUTH_ID AND C.ACTIVE='1' 
#INSCSRDTAILS = INSERT INTO TT_CSR_DTL (CSR_ID, REF_NO, SUBJECT, PROGRAM_NAME, PROPOSAL_RECEIPT_DT, PROGRAM_DATE, PROGRAM_COST, FUNDING_FROM_ONGC, APPLICABLE_GST, IMPLEMENTING_AGENCY_NAME, LEGAL_STATUS, IT_EXEMPTION_80G, CONTACT_PERSION, DESIGNATION_IN_AGENCY, MOBILE_NO, ACTIVITY_NATURE, PROGRAM_NATURE, APPROVING_ATHORITY_PER_BDM, STATUS, CREATED_ON, CREATED_BY, ACTIVE) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,sysdate, ?, ?)
#INSCSRDTAILS = INSERT INTO TT_CSR_DTL (CSR_ID, REF_NO, SUBJECT, PROGRAM_NAME, PROPOSAL_RECEIPT_DT, PROGRAM_DATE, PROGRAM_COST, FUNDING_FROM_ONGC, APPLICABLE_GST, IMPLEMENTING_AGENCY_NAME, LEGAL_STATUS, IT_EXEMPTION_80G, CONTACT_PERSION, DESIGNATION_IN_AGENCY, MOBILE_NO, ACTIVITY_NATURE, PROGRAM_NATURE, APPROVING_ATHORITY_PER_BDM, STATUS, CREATED_ON, CREATED_BY, ACTIVE,PROPOSAL_FILENAME,PROPOSAL_CONTENT_TYPE,RELEASE_ORDER_FILENAME,RELEASE_ORDER_CONTENT_TYPE,DISHA_FILENUMBER,FRNUMBER,TRACKING_NUMBER) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,sysdate, ?, ?,?,?,?,?,?,?,?)
#INSCSRDTAILS = INSERT INTO TT_CSR_DTL (CSR_ID, REF_NO, SUBJECT, PROGRAM_NAME, PROPOSAL_RECEIPT_DT, PROGRAM_DATE, PROGRAM_COST, FUNDING_FROM_ONGC, APPLICABLE_GST, IMPLEMENTING_AGENCY_NAME, LEGAL_STATUS, IT_EXEMPTION_80G, CONTACT_PERSION, DESIGNATION_IN_AGENCY, MOBILE_NO, ACTIVITY_NATURE, PROGRAM_NATURE, APPROVING_ATHORITY_PER_BDM, STATUS, CREATED_ON, CREATED_BY, ACTIVE,PROPOSAL_FILENAME,PROPOSAL_CONTENT_TYPE,RELEASE_ORDER_FILENAME,RELEASE_ORDER_CONTENT_TYPE,DISHA_FILENUMBER,FRNUMBER,TRACKING_NUMBER,IT_EXEMPTION_12AA,EMAIL,REMARK,FILECURRENTLYWITH,PROGRAM_DATE_TO,NAME_OF_IMPLEMENTING_AJENCY,COMPANY,NGO,TRUST,SECTION8) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,sysdate, ?, ?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
INSCSRDTAILS = INSERT INTO TT_CSR_DTL (CSR_ID, REF_NO, SUBJECT, PROGRAM_NAME, PROPOSAL_RECEIPT_DT, PROGRAM_DATE, PROGRAM_COST, FUNDING_FROM_ONGC, APPLICABLE_GST, IMPLEMENTING_AGENCY_NAME, LEGAL_STATUS, IT_EXEMPTION_80G, CONTACT_PERSION, DESIGNATION_IN_AGENCY, MOBILE_NO, ACTIVITY_NATURE, PROGRAM_NATURE, APPROVING_ATHORITY_PER_BDM, STATUS, CREATED_ON, CREATED_BY, ACTIVE,PROPOSAL_FILENAME,PROPOSAL_CONTENT_TYPE,RELEASE_ORDER_FILENAME,RELEASE_ORDER_CONTENT_TYPE,DISHA_FILENUMBER,FRNUMBER,TRACKING_NUMBER,IT_EXEMPTION_12AA,EMAIL,REMARK,FILECURRENTLYWITH,PROGRAM_DATE_TO,NAME_OF_IMPLEMENTING_AJENCY,COMPANY,NGO,TRUST,SECTION8,CRTFCT_FILENAME,CRTFCT_CONTENT_TYPE,RCPT_FILENAME,RCPT_CONTENT_TYPE,EXC_80G_FILENAME,EXM_80G_CONTENT_TYPE,EXM_12AA_FILENAME,EXM_12AA_CONTENT_TYPE) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,sysdate, ?, ?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
#UPDCSRDETAILS = UPDATE TT_CSR_DTL SET  PROGRAM_NAME = ?, PROPOSAL_RECEIPT_DT = ?, PROGRAM_DATE = ?, PROGRAM_COST = ?, FUNDING_FROM_ONGC = ?, APPLICABLE_GST = ?, IMPLEMENTING_AGENCY_NAME = ?, LEGAL_STATUS = ?, IT_EXEMPTION_80G = ?, CONTACT_PERSION = ?, DESIGNATION_IN_AGENCY = ?, MOBILE_NO = ?, ACTIVITY_NATURE = ?, PROGRAM_NATURE = ?, APPROVING_ATHORITY_PER_BDM = ?, STATUS = ?, UPDATED_ON = sysdate, UPDATED_BY = ?,PROPOSAL_FILENAME = ? ,PROPOSAL_CONTENT_TYPE = ? ,RELEASE_ORDER_FILENAME = ? ,RELEASE_ORDER_CONTENT_TYPE = ? ,DISHA_FILENUMBER = ? ,FRNUMBER = ? ,TRACKING_NUMBER = ? ,IT_EXEMPTION_12AA = ? ,EMAIL = ?,REMARK = ?,FILECURRENTLYWITH = ?,NAME_OF_IMPLEMENTING_AJENCY = ?,COMPANY = ?,NGO = ?,TRUST = ?,SECTION8 = ? ,PROGRAM_DATE_TO = ?  WHERE CSR_ID = ?
UPDCSRDETAILS = UPDATE TT_CSR_DTL SET  PROGRAM_NAME = ?, PROPOSAL_RECEIPT_DT = ?, PROGRAM_DATE = ?, PROGRAM_COST = ?, FUNDING_FROM_ONGC = ?, APPLICABLE_GST = ?, IMPLEMENTING_AGENCY_NAME = ?, LEGAL_STATUS = ?, IT_EXEMPTION_80G = ?, CONTACT_PERSION = ?, DESIGNATION_IN_AGENCY = ?, MOBILE_NO = ?, ACTIVITY_NATURE = ?, PROGRAM_NATURE = ?, APPROVING_ATHORITY_PER_BDM = ?, STATUS = ?, UPDATED_ON = sysdate, UPDATED_BY = ?,PROPOSAL_FILENAME = ? ,PROPOSAL_CONTENT_TYPE = ? ,RELEASE_ORDER_FILENAME = ? ,RELEASE_ORDER_CONTENT_TYPE = ? ,DISHA_FILENUMBER = ? ,FRNUMBER = ? ,TRACKING_NUMBER = ? ,IT_EXEMPTION_12AA = ? ,EMAIL = ?,REMARK = ?,FILECURRENTLYWITH = ?,NAME_OF_IMPLEMENTING_AJENCY = ?,COMPANY = ?,NGO = ?,TRUST = ?,SECTION8 = ? ,PROGRAM_DATE_TO = ?,CRTFCT_FILENAME=?,CRTFCT_CONTENT_TYPE=?,RCPT_FILENAME=?,RCPT_CONTENT_TYPE=?,EXC_80G_FILENAME=?,EXM_80G_CONTENT_TYPE=?,EXM_12AA_FILENAME=?,EXM_12AA_CONTENT_TYPE=?  WHERE CSR_ID = ?
ISEXISTCSRBYID = SELECT COUNT(*) ISEXIST FROM TT_CSR_DTL WHERE CSR_ID = ?
#FINDCSRBYID =SELECT C.CSR_ID,C.REF_NO, C.SUBJECT, C.PROGRAM_NAME, C.PROPOSAL_RECEIPT_DT, C.PROGRAM_DATE, C.PROGRAM_COST, C.FUNDING_FROM_ONGC, C.APPLICABLE_GST, C.IMPLEMENTING_AGENCY_NAME, C.LEGAL_STATUS,C.IT_EXEMPTION_80G , C.CONTACT_PERSION, C.DESIGNATION_IN_AGENCY, C.MOBILE_NO, C.ACTIVITY_NATURE  , C.PROGRAM_NATURE,C.APPROVING_ATHORITY_PER_BDM , C.STATUS , C.CREATED_ON, C.UPDATED_ON,C.CREATED_BY,C.UPDATED_BY, C.ACTIVE,SB.SUBNAME,S.STATUS || '' AS STATUS_NAME,P.PRN_NAME,A.AUTH_NAME,A.AUTH_CODE FROM TT_CSR_DTL C,TM_CSR_SUBJECT SB,TM_CSR_STATUS S,TM_CSR_PROGRAM_NATURE P,TM_CSR_APRVNG_AUTH A WHERE C.STATUS=S.STATID AND C.PROGRAM_NATURE = P.PRN_ID AND C.SUBJECT=SB.SUBID AND C.APPROVING_ATHORITY_PER_BDM = A.AUTH_ID AND CSR_ID=?
#FINDCSRBYID = SELECT C.CSR_ID,C.REF_NO,C.IT_EXEMPTION_12AA, C.EMAIL,C.REMARK ,C.FILECURRENTLYWITH,C.PROGRAM_DATE_TO,C.COMPANY,C.NGO,C.TRUST,C.SECTION8,C.NAME_OF_IMPLEMENTING_AJENCY, C.SUBJECT, C.PROGRAM_NAME, C.PROPOSAL_RECEIPT_DT, C.PROGRAM_DATE, C.PROGRAM_COST, C.FUNDING_FROM_ONGC, C.APPLICABLE_GST, C.IMPLEMENTING_AGENCY_NAME, C.LEGAL_STATUS,C.IT_EXEMPTION_80G , C.CONTACT_PERSION, C.DESIGNATION_IN_AGENCY, C.MOBILE_NO, C.ACTIVITY_NATURE  , C.PROGRAM_NATURE,C.APPROVING_ATHORITY_PER_BDM , C.STATUS , C.CREATED_ON, C.UPDATED_ON,C.CREATED_BY,C.UPDATED_BY, C.ACTIVE,SB.SUBNAME,S.STATUS || '' AS STATUS_NAME,P.PRN_NAME,A.AUTH_NAME,A.AUTH_CODE,C.PROPOSAL_FILENAME,C.PROPOSAL_CONTENT_TYPE,C.RELEASE_ORDER_FILENAME,C.RELEASE_ORDER_CONTENT_TYPE,C.DISHA_FILENUMBER,C.FRNUMBER,C.TRACKING_NUMBER FROM TT_CSR_DTL C,TM_CSR_SUBJECT SB,TM_CSR_STATUS S,TM_CSR_PROGRAM_NATURE P,TM_CSR_APRVNG_AUTH A WHERE C.STATUS=S.STATID AND C.PROGRAM_NATURE = P.PRN_ID AND C.SUBJECT=SB.SUBID AND C.APPROVING_ATHORITY_PER_BDM = A.AUTH_ID AND CSR_ID=?
FINDCSRBYID = SELECT C.CSR_ID,C.REF_NO,C.IT_EXEMPTION_12AA, C.EMAIL,C.REMARK ,C.FILECURRENTLYWITH,C.PROGRAM_DATE_TO,C.COMPANY,C.NGO,C.TRUST,C.SECTION8,C.NAME_OF_IMPLEMENTING_AJENCY, C.SUBJECT, C.PROGRAM_NAME, C.PROPOSAL_RECEIPT_DT, C.PROGRAM_DATE, C.PROGRAM_COST, C.FUNDING_FROM_ONGC, C.APPLICABLE_GST, C.IMPLEMENTING_AGENCY_NAME, C.LEGAL_STATUS,C.IT_EXEMPTION_80G , C.CONTACT_PERSION, C.DESIGNATION_IN_AGENCY, C.MOBILE_NO, C.ACTIVITY_NATURE  , C.PROGRAM_NATURE,C.APPROVING_ATHORITY_PER_BDM , C.STATUS , C.CREATED_ON, C.UPDATED_ON,C.CREATED_BY,C.UPDATED_BY, C.ACTIVE,SB.SUBNAME,S.STATUS || '' AS STATUS_NAME,P.PRN_NAME,A.AUTH_NAME,A.AUTH_CODE,C.PROPOSAL_FILENAME,C.PROPOSAL_CONTENT_TYPE,C.RELEASE_ORDER_FILENAME,C.RELEASE_ORDER_CONTENT_TYPE,C.DISHA_FILENUMBER,C.FRNUMBER,C.TRACKING_NUMBER,C.CRTFCT_FILENAME,C.CRTFCT_CONTENT_TYPE,C.RCPT_FILENAME,C.RCPT_CONTENT_TYPE,C.EXC_80G_FILENAME,C.EXM_80G_CONTENT_TYPE,C.EXM_12AA_FILENAME,C.EXM_12AA_CONTENT_TYPE FROM TT_CSR_DTL C,TM_CSR_SUBJECT SB,TM_CSR_STATUS S,TM_CSR_PROGRAM_NATURE P,TM_CSR_APRVNG_AUTH A WHERE C.STATUS=S.STATID AND C.PROGRAM_NATURE = P.PRN_ID AND C.SUBJECT=SB.SUBID AND C.APPROVING_ATHORITY_PER_BDM = A.AUTH_ID AND CSR_ID=?
FINDCSRBYREFNO = SELECT * FROM TT_CSR_DTL WHERE REF_NO = ?
INACTIVEBYID = UPDATE TT_CSR_DTL SET ACTIVE=0 WHERE CSR_ID = ?
DELCSRDTLBYID = DELETE FROM TT_CSR_DTL WHERE CSR_ID = ?

